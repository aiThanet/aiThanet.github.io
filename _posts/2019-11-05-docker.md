---
layout: post
title: How to Docker
date: 2019-11-05
Author: aiThanet
categories:
tags: [docker]
comments: true
---

### Step1: Create Ubuntu Contrainer

```
docker run -it --platform=linux ubuntu /bin/bash
```

you need to enable Daemon in docker preference.

> `docker ps`: see the running container
> `docker ps --all`: see the stopped container
> `docker start <container_id>`: to start container
> `docker attach <container_id>`: to connect container
> `exit`: inside container to stop and shutdown the container

### Step2: Multiple containers from the same image

```
docker run -it -d --rm --platform=linux --name ubuntu1 ubuntu /bin/bash
docker run -it -d --rm --platform=linux --name ubuntu2 ubuntu /bin/bash
docker run -it -d --rm --platform=linux --name ubuntu3 ubuntu /bin/bash
```

you can name the container with `--name` which you can attach and start by container name

### Step3: Volume mounting

```
docker run --platform=linux --rm -v "$(pwd):/files" maxcnunes/unrar unrar x -r Trunk.rar
```

ex. unrar a file

> `--rm` Automatically remove the container when it exits
> `-v <host path name>:<container path name>` Bind mount the volume

### Step4: node js (with single process in a container)

```
docker run --platform=linux -it --rm --name node node:7.7.4-alpine
```

> Run `const fs = require('fs'); fs.readdir('/', (err, paths) => console.log(paths));` to see the file system info.
> Run `.exit` to exit

### Step5: Run a node.js webserver

```
docker run --platform=linux -it --rm --name node -d -v "$(pwd):/src" -w /src node:7.7.4-alpine node app.js
```

> `-d` run container in background

credit : [arronpowell](https://github.com/aaronpowell/docker-from-scratch).
